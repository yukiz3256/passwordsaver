<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />

        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->

        <h1> Hello! Welcome to Password Saver</h1>
        <div id ="LoginScreen">
            <button id = "login"> Login with Google</button>
        </div>
        <div id ="dashboard">
            <button id="signOut"> Log Out </button>
        </div>

    </body>



        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
            // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
            import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries

            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyDwtt9nU5At77_2gIXsyPeYgV4AYibkvYo",
                authDomain: "password-saver-33a01.firebaseapp.com",
                databaseURL: "https://password-saver-33a01-default-rtdb.firebaseio.com",
                projectId: "password-saver-33a01",
                storageBucket: "password-saver-33a01.appspot.com",
                messagingSenderId: "730030078547",
                appId: "1:730030078547:web:396226808985562ab7e4a6",
                measurementId: "G-LLVNVDFB8Q"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            // const analytics = getAnalytics(app);
            const auth = getAuth(app)
            const provider = new GoogleAuthProvider(app);


            login.addEventListener('click',(e) => {
                signInWithPopup(auth, provider)
                    then((result) => {
                    // This gives you a Google Access Token. You can use it to access the Google API.
                    const credential = GoogleAuthProvider.credentialFromResult(result);
                    const token = credential.accessToken;
                    // The signed-in user info.
                    const user = result.user;
                    // ...
                }) .catch((error) => {
                    // Handle Errors here.
                    const errorCode = error.code;
                    const errorMessage = error.message;
                    // The email of the user's account used.
                    const email = error.email;
                    // The AuthCredential type that was used.
                    const credential = GoogleAuthProvider.credentialFromError(error);
                    // ...


                });

            })

            // signOut.addEventListener('click',(e) => {
            //     signOut(auth).then(() => {
            //       // Sign-out successful.
            //     }).catch((error) => {
            //       // An error happened.
            //     });
            // })
        </script>





    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
        // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDwtt9nU5At77_2gIXsyPeYgV4AYibkvYo",
            authDomain: "password-saver-33a01.firebaseapp.com",
            databaseURL: "https://password-saver-33a01-default-rtdb.firebaseio.com",
            projectId: "password-saver-33a01",
            storageBucket: "password-saver-33a01.appspot.com",
            messagingSenderId: "730030078547",
            appId: "1:730030078547:web:396226808985562ab7e4a6",
            measurementId: "G-LLVNVDFB8Q"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app);
        const auth = getAuth(app)
        const provider = new GoogleAuthProvider(app);


        login.addEventListener('click',(e) => {
            signInWithPopup(auth, provider)
                .then((result) => {
                // This gives you a Google Access Token. You can use it to access the Google API.
                const credential = GoogleAuthProvider.credentialFromResult(result);
                const token = credential.accessToken;
                // The signed-in user info.
                const user = result.user;
                // ...
            }).catch((error) => {
                // Handle Errors here.
                const errorCode = error.code;
                const errorMessage = error.message;
                // The email of the user's account used.
                const email = error.email;
                // The AuthCredential type that was used.
                const credential = GoogleAuthProvider.credentialFromError(error);
                // ...
            });
        })

        // signOut.addEventListener('click',(e) => {
        //     signOut(auth).then(() => {
        //       // Sign-out successful.
        //     }).catch((error) => {
        //       // An error happened.
        //     });
        // })
    </script>




        <!-- JS -->
        <!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>-->
        <!--<script src="script.js"></script>-->

</html>
